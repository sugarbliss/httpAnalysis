<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼ HTTP åè®®åˆ†æ (å¢å¼ºç‰ˆ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Serene Neutrals (Light Gray, Slate, with a soft Blue accent) -->
    <!-- Application Structure Plan: Single-page dashboard with sticky top navigation. Sections: 1. Core Principles, 2. Message Anatomy (enhanced detail), 3. Status Code Explorer (simplified), 4. Evolution Timeline, 5. HTTPS Handshake. Removed Gemini API integration for a focused, static-data-driven learning experience. The structure remains non-linear and task-oriented, with enhanced content in the Message Anatomy section. -->
    <!-- Visualization & Content Choices:
        - HTTP Versions -> Goal: Show Change -> Viz: Interactive Bar Chart (Chart.js) -> Interaction: Click version for details. Justification: Intuitive for evolution.
        - Status Codes -> Goal: Organize & Inform -> Presentation: Filterable Grid (HTML/Tailwind) -> Interaction: Filter buttons. Justification: Quick reference. (Gemini deep-dive removed).
        - Message Structure -> Goal: Compare & Organize & Explain in Detail -> Presentation: Side-by-side diagram (HTML/Tailwind) with enhanced textual explanations for each part -> Interaction: Click part for explanation. Justification: Visually clarifies structure and provides richer details.
        - HTTPS Handshake -> Goal: Organize (Process Flow) -> Presentation: Step-by-step diagram (HTML/Tailwind/JS) -> Interaction: Next/Prev buttons. Justification: Simplifies complex sequence.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
            scroll-behavior: smooth;
        }
        .nav-link {
            transition: color 0.3s, border-color 0.3s;
        }
        .nav-link.active, .nav-link:hover {
            color: #3b82f6; /* text-blue-500 */
            border-bottom-color: #3b82f6;
        }
        .card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .status-code-card {
            transition: opacity 0.5s, transform 0.5s;
        }
        .message-part.active {
            background-color: #dbeafe; /* bg-blue-100 */
            border-left-color: #3b82f6; /* border-blue-500 */
        }
        .step-indicator.active {
            background-color: #3b82f6;
            color: white;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Header & Navigation -->
    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <h1 class="text-2xl font-bold text-slate-900">HTTP æ·±åº¦æ¢ç´¢ä¹‹æ—…</h1>
                <div class="hidden md:flex space-x-6 xl:space-x-8">
                    <a href="#core-principles" class="nav-link font-medium text-slate-600 border-b-2 border-transparent pb-1">æ ¸å¿ƒåŸç†</a>
                    <a href="#message-anatomy" class="nav-link font-medium text-slate-600 border-b-2 border-transparent pb-1">æŠ¥æ–‡è§£å‰–</a>
                    <a href="#status-codes" class="nav-link font-medium text-slate-600 border-b-2 border-transparent pb-1">çŠ¶æ€ç </a>
                    <a href="#evolution" class="nav-link font-medium text-slate-600 border-b-2 border-transparent pb-1">æ¼”è¿›å²</a>
                    <a href="#safety" class="nav-link font-medium text-slate-600 border-b-2 border-transparent pb-1">HTTPS</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <!-- Section 1: Core Principles -->
        <section id="core-principles" class="py-16">
            <h2 class="text-4xl font-bold text-center text-slate-900 mb-4">ä¸‰å¤§æ ¸å¿ƒåŸç†</h2>
            <p class="text-center text-slate-600 max-w-3xl mx-auto mb-12">HTTP çš„è®¾è®¡æ„å»ºåœ¨å‡ ä¸ªå…³é”®çš„åŸºç¡€æ¦‚å¿µä¹‹ä¸Šï¼Œè¿™äº›æ¦‚å¿µå…±åŒå†³å®šäº†å®ƒåœ¨ä¸‡ç»´ç½‘ä¸­çš„è¿ä½œæ–¹å¼ã€‚ç‚¹å‡»ä¸‹æ–¹çš„å¡ç‰‡ï¼Œæ·±å…¥äº†è§£æ¯ä¸ªåŸç†çš„ç»†èŠ‚ã€‚</p>
            <div id="principles-grid" class="grid md:grid-cols-3 gap-8">
                <!-- Cards will be injected by JS -->
            </div>
        </section>

        <hr class="border-slate-200 my-12">

        <!-- Section 2: Message Anatomy -->
        <section id="message-anatomy" class="py-16">
            <h2 class="text-4xl font-bold text-center text-slate-900 mb-4">æŠ¥æ–‡è§£å‰–å®¤</h2>
            <p class="text-center text-slate-600 max-w-3xl mx-auto mb-12">HTTP é€šä¿¡æ˜¯é€šè¿‡äº¤æ¢ç»“æ„åŒ–çš„â€œæŠ¥æ–‡â€æ¥å®Œæˆçš„ï¼šå®¢æˆ·ç«¯å‘é€â€œè¯·æ±‚æŠ¥æ–‡â€ï¼ŒæœåŠ¡å™¨è¿”å›â€œå“åº”æŠ¥æ–‡â€ã€‚ç‚¹å‡»æŠ¥æ–‡çš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼ŒæŸ¥çœ‹å…¶è¯¦ç»†åŠŸèƒ½è§£é‡Šã€‚</p>
            <div class="grid lg:grid-cols-2 gap-8 items-start">
                <div>
                    <h3 class="text-2xl font-semibold mb-4 text-center text-blue-600">è¯·æ±‚æŠ¥æ–‡ (Request)</h3>
                    <div class="bg-white p-4 rounded-lg shadow-md font-mono text-sm space-y-2">
                        <div id="req-line" class="message-part cursor-pointer border-l-4 border-transparent pl-3 py-1 hover:bg-blue-50">
                            <span class="font-bold text-green-600">GET</span>
                            <span class="text-slate-700">/index.html</span>
                            <span class="text-slate-500">HTTP/1.1</span>
                        </div>
                        <div id="req-headers" class="message-part cursor-pointer border-l-4 border-transparent pl-3 py-1 hover:bg-blue-50">
                            <div><span class="font-bold text-sky-700">Host:</span> www.example.com</div>
                            <div><span class="font-bold text-sky-700">User-Agent:</span> Chrome/125.0</div>
                            <div><span class="font-bold text-sky-700">Accept:</span> text/html</div>
                            <div><span class="font-bold text-sky-700">Connection:</span> keep-alive</div>
                        </div>
                        <div id="req-body" class="message-part cursor-pointer border-l-4 border-transparent pl-3 py-1 text-slate-400 italic hover:bg-blue-50">
                            [è¯·æ±‚ä½“é€šå¸¸åœ¨GETè¯·æ±‚ä¸­ä¸ºç©º]
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-2xl font-semibold mb-4 text-center text-purple-600">å“åº”æŠ¥æ–‡ (Response)</h3>
                    <div class="bg-white p-4 rounded-lg shadow-md font-mono text-sm space-y-2">
                         <div id="res-line" class="message-part cursor-pointer border-l-4 border-transparent pl-3 py-1 hover:bg-purple-50">
                            <span class="text-slate-500">HTTP/1.1</span>
                            <span class="font-bold text-green-600">200</span>
                            <span class="text-slate-700">OK</span>
                        </div>
                        <div id="res-headers" class="message-part cursor-pointer border-l-4 border-transparent pl-3 py-1 hover:bg-purple-50">
                            <div><span class="font-bold text-sky-700">Date:</span> Mon, 27 Jul 2024 12:28:53 GMT</div>
                            <div><span class="font-bold text-sky-700">Content-Type:</span> text/html; charset=UTF-8</div>
                            <div><span class="font-bold text-sky-700">Content-Length:</span> 1270</div>
                            <div><span class="font-bold text-sky-700">Server:</span> Apache/2.4.41</div>
                        </div>
                        <div id="res-body" class="message-part cursor-pointer border-l-4 border-transparent pl-3 py-1 text-slate-700 hover:bg-purple-50">
                           &lt;!DOCTYPE html&gt;&lt;html&gt;...
                        </div>
                    </div>
                </div>
            </div>
            <div id="message-explanation" class="mt-8 bg-white p-6 rounded-lg shadow-inner min-h-[150px] text-slate-700 leading-relaxed">
                <p class="text-slate-500">ç‚¹å‡»ä¸Šæ–¹æŠ¥æ–‡çš„ä»»æ„éƒ¨åˆ†ä»¥æŸ¥çœ‹è¯´æ˜ã€‚</p>
            </div>
        </section>

        <hr class="border-slate-200 my-12">

        <!-- Section 3: Status Codes -->
        <section id="status-codes" class="py-16">
            <h2 class="text-4xl font-bold text-center text-slate-900 mb-4">çŠ¶æ€ç é€ŸæŸ¥</h2>
            <p class="text-center text-slate-600 max-w-3xl mx-auto mb-12">çŠ¶æ€ç æ˜¯æœåŠ¡å™¨å‘ŠçŸ¥å®¢æˆ·ç«¯è¯·æ±‚ç»“æœçš„â€œæš—å·â€ã€‚å®ƒä»¬è¢«åˆ†ä¸ºäº”ä¸ªç±»åˆ«ã€‚ä½¿ç”¨ä¸‹æ–¹çš„è¿‡æ»¤å™¨æ¥æ¢ç´¢å®ƒä»¬ã€‚</p>
            <div id="status-code-filters" class="flex justify-center flex-wrap gap-2 mb-8">
                <!-- Filter buttons injected by JS -->
            </div>
            <div id="status-code-grid" class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                <!-- Status code cards injected by JS -->
            </div>
        </section>

        <hr class="border-slate-200 my-12">

        <!-- Section 4: Evolution -->
        <section id="evolution" class="py-16">
            <h2 class="text-4xl font-bold text-center text-slate-900 mb-4">HTTP æ¼”è¿›æ—¶é—´çº¿</h2>
            <p class="text-center text-slate-600 max-w-3xl mx-auto mb-12">ä»ä¸€ä¸ªç®€å•çš„åè®®åˆ°æ”¯æ’‘èµ·ç°ä»£å¤æ‚äº’è”ç½‘çš„åŸºçŸ³ï¼ŒHTTP ç»å†äº†ä¸€ç³»åˆ—é‡è¦çš„ç‰ˆæœ¬è¿­ä»£ã€‚ç‚¹å‡»å›¾è¡¨ä¸­çš„ç‰ˆæœ¬ï¼Œäº†è§£æ¯ä¸ªæ—¶ä»£çš„å…³é”®ç‰¹æ€§ã€‚</p>
            <div class="bg-white p-4 md:p-6 rounded-lg shadow-md">
                <div class="chart-container relative w-full max-w-4xl mx-auto h-64 md:h-80">
                    <canvas id="evolutionChart"></canvas>
                </div>
            </div>
            <div id="evolution-details" class="mt-8 bg-white p-6 rounded-lg shadow-inner min-h-[150px]">
                 <p class="text-slate-500 text-center">ç‚¹å‡»ä¸Šæ–¹å›¾è¡¨ä¸­çš„ä»»æ„ç‰ˆæœ¬æŸ¥çœ‹è¯¦æƒ…ã€‚</p>
            </div>
        </section>

        <hr class="border-slate-200 my-12">

        <!-- Section 5: HTTPS -->
        <section id="safety" class="py-16">
            <h2 class="text-4xl font-bold text-center text-slate-900 mb-4">å®‰å…¨ä¹‹ç›¾: HTTPS</h2>
            <p class="text-center text-slate-600 max-w-3xl mx-auto mb-12">HTTPS (å®‰å…¨çš„HTTP) é€šè¿‡ SSL/TLS åŠ å¯†å±‚ä¿æŠ¤äº†æˆ‘ä»¬çš„åœ¨çº¿é€šä¿¡ã€‚ä¸‹é¢çš„äº¤äº’å¼å›¾è§£å°†å¸¦æ‚¨ä¸€æ­¥æ­¥äº†è§£å»ºç«‹å®‰å…¨è¿æ¥ï¼ˆå³â€œTLSæ¡æ‰‹â€ï¼‰çš„è¿‡ç¨‹ã€‚</p>
            <div class="bg-white p-6 rounded-lg shadow-md max-w-4xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-center gap-8">
                    <div class="font-bold text-lg">å®¢æˆ·ç«¯ (æµè§ˆå™¨)</div>
                    <div class="text-3xl">ğŸ¤</div>
                    <div class="font-bold text-lg">æœåŠ¡å™¨</div>
                </div>
                <div id="handshake-diagram" class="mt-8 space-y-4">
                    <!-- Steps will be injected by JS -->
                </div>
                 <div id="handshake-explanation" class="mt-6 p-4 bg-blue-50 rounded-md text-blue-800 border-l-4 border-blue-500">
                    <!-- Explanation will be injected by JS -->
                </div>
                <div class="mt-8 flex justify-center items-center gap-4">
                    <button id="prev-step" class="bg-slate-300 hover:bg-slate-400 text-slate-800 font-bold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed">ä¸Šä¸€æ­¥</button>
                    <div id="step-indicators" class="flex gap-2">
                        <!-- Indicators will be injected by JS -->
                    </div>
                    <button id="next-step" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">ä¸‹ä¸€æ­¥</button>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-800 text-slate-300 py-8">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2024 äº¤äº’å¼ HTTP åè®®åˆ†æã€‚</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function () {

        const data = {
            principles: [
                {
                    title: "å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å‹",
                    icon: "â†”ï¸",
                    summary: "HTTP æ˜¯ä¸€ä¸ªåŸºäºå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å‹çš„åè®®ã€‚å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚å¹¶è¿”å›å“åº”ã€‚",
                    details: "åœ¨è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œé€šä¿¡æ€»æ˜¯ç”±å®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰å‘èµ·ã€‚æœåŠ¡å™¨ï¼ˆå¦‚ç½‘ç«™ä¸»æœºï¼‰è¢«åŠ¨åœ°ç­‰å¾…è¯·æ±‚çš„åˆ°æ¥ï¼Œç„¶åå¤„ç†å®ƒå¹¶å‘é€å›ä¸€ä¸ªå“åº”ã€‚è¿™ç§åˆ†ç¦»å…³æ³¨ç‚¹çš„è®¾è®¡ç®€åŒ–äº†åŒæ–¹çš„å®ç°ï¼Œå¹¶å…è®¸å®ƒä»¬ç‹¬ç«‹å‘å±•ã€‚"
                },
                {
                    title: "æ— çŠ¶æ€åè®®",
                    icon: "ğŸ§ ",
                    summary: "HTTP åè®®æœ¬èº«æ˜¯æ— çŠ¶æ€çš„ï¼ŒæœåŠ¡å™¨ä¸ä¼šä¿ç•™ä¹‹å‰è¯·æ±‚çš„ä»»ä½•ä¿¡æ¯ã€‚",
                    details: "æ¯ä¸ªè¯·æ±‚éƒ½è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„äº‹åŠ¡ï¼Œä¸ä¹‹å‰çš„ä»»ä½•è¯·æ±‚éƒ½æ— å…³ã€‚è¿™ç®€åŒ–äº†æœåŠ¡å™¨è®¾è®¡å¹¶æé«˜äº†å¯ä¼¸ç¼©æ€§ã€‚ä¸ºäº†åœ¨ä¸åŒè¯·æ±‚é—´ç»´æŒçŠ¶æ€ï¼ˆå¦‚ç”¨æˆ·ç™»å½•æˆ–è´­ç‰©è½¦ï¼‰ï¼Œéœ€è¦ä½¿ç”¨ Cookies æˆ– Session ç­‰æŠ€æœ¯ã€‚"
                },
                {
                    title: "è¿æ¥ç®¡ç†",
                    icon: "ğŸ”—",
                    summary: "HTTP/1.1 é»˜è®¤ä½¿ç”¨æŒä¹…è¿æ¥ï¼Œå…è®¸åœ¨å•ä¸ªTCPè¿æ¥ä¸Šä¼ è¾“å¤šä¸ªè¯·æ±‚å’Œå“åº”ã€‚",
                    details: "æ—©æœŸçš„ HTTP/1.0 æ¯æ¬¡è¯·æ±‚/å“åº”éƒ½å»ºç«‹æ–°è¿æ¥ï¼Œæ•ˆç‡ä½ä¸‹ã€‚æŒä¹…è¿æ¥ï¼ˆKeep-Aliveï¼‰é€šè¿‡é‡ç”¨è¿æ¥ï¼Œå¤§å¤§å‡å°‘äº†å»¶è¿Ÿå’ŒæœåŠ¡å™¨è´Ÿè½½ï¼Œæ˜¯ç°ä»£ Web æ€§èƒ½çš„å…³é”®ä¼˜åŒ–ä¹‹ä¸€ã€‚HTTP/2 å’Œ HTTP/3 åœ¨æ­¤åŸºç¡€ä¸Šé€šè¿‡å¤šè·¯å¤ç”¨è¿›ä¸€æ­¥æå‡äº†è¿æ¥æ•ˆç‡ã€‚"
                }
            ],
            messageParts: {
                'req-line': {
                    title: 'è¯·æ±‚è¡Œ (Request Line)',
                    text: `è¯·æ±‚æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œï¼Œç»“æ„ä¸ºï¼š<code>[æ–¹æ³•] [è¯·æ±‚URI] [HTTPç‰ˆæœ¬]</code>ã€‚<br>
                           <strong>æ–¹æ³• (Method):</strong> è¡¨æ˜å¯¹èµ„æºè¦æ‰§è¡Œçš„æ“ä½œã€‚å¸¸è§æ–¹æ³•æœ‰ï¼š
                           <ul>
                             <li class="ml-4 my-1"><code>GET</code>: è¯·æ±‚è·å–æŒ‡å®šèµ„æºçš„è¡¨ç¤ºã€‚é€šå¸¸ç”¨äºè¯»å–æ•°æ®ï¼Œå¹‚ç­‰ã€‚</li>
                             <li class="ml-4 my-1"><code>POST</code>: å‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚æäº¤è¡¨å•ã€ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ï¼Œå¯èƒ½å¯¼è‡´æ–°çš„èµ„æºè¢«åˆ›å»ºæˆ–å·²æœ‰èµ„æºè¢«ä¿®æ”¹ï¼Œéå¹‚ç­‰ã€‚</li>
                             <li class="ml-4 my-1"><code>PUT</code>: ç”¨è¯·æ±‚ä¸­çš„æœ‰æ•ˆè½½è·æ›¿æ¢ç›®æ ‡èµ„æºçš„æ‰€æœ‰å½“å‰å†…å®¹ã€‚å¹‚ç­‰ã€‚</li>
                             <li class="ml-4 my-1"><code>DELETE</code>: åˆ é™¤æŒ‡å®šçš„èµ„æºã€‚å¹‚ç­‰ã€‚</li>
                             <li class="ml-4 my-1"><code>HEAD</code>: ç±»ä¼¼äºGETï¼Œä½†å“åº”ä¸­æ²¡æœ‰å…·ä½“å†…å®¹ï¼Œåªæœ‰å¤´éƒ¨ã€‚ç”¨äºè·å–èµ„æºçš„å…ƒæ•°æ®ã€‚</li>
                             <li class="ml-4 my-1"><code>OPTIONS</code>: ç”¨äºè·å–ç›®æ ‡èµ„æºæ‰€æ”¯æŒçš„é€šä¿¡é€‰é¡¹ã€‚</li>
                           </ul>
                           <strong>è¯·æ±‚ URI (Request-URI):</strong> ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ŒæŒ‡å®šäº†è¯·æ±‚çš„èµ„æºè·¯å¾„ï¼Œä¾‹å¦‚ <code>/path/to/resource.html</code> æˆ–ä¸€ä¸ªå®Œæ•´çš„ URLã€‚
                           <br><strong>HTTP ç‰ˆæœ¬:</strong> è¡¨æ˜æ‰€ä½¿ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ï¼Œå¦‚ <code>HTTP/1.1</code>, <code>HTTP/2</code>ã€‚`
                },
                'req-headers': {
                    title: 'è¯·æ±‚å¤´éƒ¨ (Request Headers)',
                    text: `ä»¥é”®å€¼å¯¹ (<code>åç§°: å€¼</code>) å½¢å¼å‘æœåŠ¡å™¨ä¼ é€’å®¢æˆ·ç«¯çš„é™„åŠ ä¿¡æ¯ï¼Œæ¯ä¸ªå¤´éƒ¨å ä¸€è¡Œã€‚å¸¸è§çš„è¯·æ±‚å¤´æœ‰ï¼š
                           <ul>
                             <li class="ml-4 my-1"><code>Host</code>: (HTTP/1.1 å¿…éœ€) æŒ‡å®šè¯·æ±‚çš„ç›®æ ‡æœåŠ¡å™¨åŸŸåå’Œç«¯å£å·ã€‚ä¾‹å¦‚: <code>Host: www.example.com</code></li>
                             <li class="ml-4 my-1"><code>User-Agent</code>: åŒ…å«å‘å‡ºè¯·æ±‚çš„ç”¨æˆ·ä»£ç†ï¼ˆå¦‚æµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿï¼‰çš„ä¿¡æ¯ã€‚ä¾‹å¦‚: <code>User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36</code></li>
                             <li class="ml-4 my-1"><code>Accept</code>: æŒ‡å®šå®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†çš„å†…å®¹ç±»å‹ (MIMEç±»å‹)ã€‚ä¾‹å¦‚: <code>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</code></li>
                             <li class="ml-4 my-1"><code>Accept-Language</code>: æŒ‡å®šå®¢æˆ·ç«¯åå¥½çš„è‡ªç„¶è¯­è¨€ã€‚ä¾‹å¦‚: <code>Accept-Language: zh-CN,zh;q=0.9</code></li>
                             <li class="ml-4 my-1"><code>Accept-Encoding</code>: æŒ‡å®šå®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†çš„å†…å®¹ç¼–ç æ ¼å¼ï¼ˆé€šå¸¸æ˜¯å‹ç¼©ç®—æ³•ï¼‰ã€‚ä¾‹å¦‚: <code>Accept-Encoding: gzip, deflate, br</code></li>
                             <li class="ml-4 my-1"><code>Connection</code>: æ§åˆ¶ç½‘ç»œè¿æ¥çš„é€‰é¡¹ï¼Œä¾‹å¦‚ <code>keep-alive</code> (ä¿æŒè¿æ¥) æˆ– <code>close</code> (å…³é—­è¿æ¥)ã€‚</li>
                             <li class="ml-4 my-1"><code>Content-Type</code>: (ä¸»è¦ç”¨äº POST/PUT) è¯·æ±‚ä½“çš„åª’ä½“ç±»å‹ã€‚ä¾‹å¦‚: <code>Content-Type: application/json</code> æˆ– <code>Content-Type: application/x-www-form-urlencoded</code></li>
                             <li class="ml-4 my-1"><code>Content-Length</code>: (ä¸»è¦ç”¨äº POST/PUT) è¯·æ±‚ä½“çš„é•¿åº¦ï¼ˆå­—èŠ‚ï¼‰ã€‚</li>
                             <li class="ml-4 my-1"><code>Authorization</code>: åŒ…å«äº†å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯ (ä¾‹å¦‚ Basic Auth, Bearer Token)ã€‚</li>
                             <li class="ml-4 my-1"><code>Cookie</code>: åŒ…å«äº†ä¹‹å‰ç”±æœåŠ¡å™¨é€šè¿‡ <code>Set-Cookie</code> å¤´éƒ¨è®¾ç½®çš„ cookie å€¼ã€‚</li>
                           </ul>`
                },
                'req-body': {
                    title: 'è¯·æ±‚ä½“ (Request Body) (å¯é€‰)',
                    text: `åŒ…å«éœ€è¦å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ï¼Œä¾‹å¦‚ <code>POST</code> è¯·æ±‚ä¸­çš„è¡¨å•æ•°æ®æˆ– JSON æ•°æ®ï¼Œæˆ–è€… <code>PUT</code> è¯·æ±‚ä¸­è¦ä¸Šä¼ çš„æ–‡ä»¶å†…å®¹ã€‚å¯¹äº <code>GET</code>ã€<code>HEAD</code> ç­‰è¯·æ±‚ï¼Œè¯·æ±‚ä½“é€šå¸¸ä¸ºç©ºã€‚
                           <br>ç¤ºä¾‹ (è¡¨å•æ•°æ®): <code>name=John+Doe&age=30</code>
                           <br>ç¤ºä¾‹ (JSON): <code>{"username": "testuser", "email": "test@example.com"}</code>`
                },
                'res-line': {
                    title: 'çŠ¶æ€è¡Œ (Status Line)',
                    text: `å“åº”æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œï¼Œç»“æ„ä¸ºï¼š<code>[HTTPç‰ˆæœ¬] [çŠ¶æ€ç ] [åŸå› çŸ­è¯­]</code>ã€‚<br>
                           <strong>HTTP ç‰ˆæœ¬:</strong> æœåŠ¡å™¨ä½¿ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚
                           <br><strong>çŠ¶æ€ç  (Status Code):</strong> ä¸€ä¸ªä¸‰ä½æ•°å­—ï¼Œè¡¨ç¤ºè¯·æ±‚å¤„ç†çš„ç»“æœã€‚ä¸»è¦åˆ†ä¸ºäº”ç±»ï¼š
                           <ul>
                             <li class="ml-4 my-1"><code>1xx</code> (ä¿¡æ¯æ€§): è¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†ã€‚</li>
                             <li class="ml-4 my-1"><code>2xx</code> (æˆåŠŸ): è¯·æ±‚å·²æˆåŠŸè¢«æœåŠ¡å™¨æ¥æ”¶ã€ç†è§£ã€å¹¶æ¥å— (ä¾‹å¦‚ <code>200 OK</code>, <code>201 Created</code>)ã€‚</li>
                             <li class="ml-4 my-1"><code>3xx</code> (é‡å®šå‘): éœ€è¦è¿›ä¸€æ­¥æ“ä½œä»¥å®Œæˆè¯·æ±‚ (ä¾‹å¦‚ <code>301 Moved Permanently</code>, <code>302 Found</code>)ã€‚</li>
                             <li class="ml-4 my-1"><code>4xx</code> (å®¢æˆ·ç«¯é”™è¯¯): è¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆ (ä¾‹å¦‚ <code>400 Bad Request</code>, <code>404 Not Found</code>, <code>403 Forbidden</code>)ã€‚</li>
                             <li class="ml-4 my-1"><code>5xx</code> (æœåŠ¡å™¨é”™è¯¯): æœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ (ä¾‹å¦‚ <code>500 Internal Server Error</code>, <code>503 Service Unavailable</code>)ã€‚</li>
                           </ul>
                           <strong>åŸå› çŸ­è¯­ (Reason Phrase):</strong> å¯¹çŠ¶æ€ç çš„ç®€çŸ­æ–‡æœ¬æè¿°ï¼Œä¾‹å¦‚ <code>OK</code>, <code>Not Found</code>ã€‚`
                },
                'res-headers': {
                    title: 'å“åº”å¤´éƒ¨ (Response Headers)',
                    text: `ä»¥é”®å€¼å¯¹å½¢å¼å‘å®¢æˆ·ç«¯ä¼ é€’æœåŠ¡å™¨çš„é™„åŠ ä¿¡æ¯ã€‚å¸¸è§çš„å“åº”å¤´æœ‰ï¼š
                           <ul>
                             <li class="ml-4 my-1"><code>Date</code>: å“åº”äº§ç”Ÿçš„æ—¥æœŸå’Œæ—¶é—´ã€‚ä¾‹å¦‚: <code>Date: Mon, 27 Jul 2024 12:28:53 GMT</code></li>
                             <li class="ml-4 my-1"><code>Server</code>: åŒ…å«äº†æœåŠ¡å™¨è½¯ä»¶çš„ä¿¡æ¯ã€‚ä¾‹å¦‚: <code>Server: Apache/2.4.41 (Unix)</code></li>
                             <li class="ml-4 my-1"><code>Content-Type</code>: å“åº”ä½“çš„åª’ä½“ç±»å‹å’Œå­—ç¬¦ç¼–ç ã€‚ä¾‹å¦‚: <code>Content-Type: text/html; charset=UTF-8</code></li>
                             <li class="ml-4 my-1"><code>Content-Length</code>: å“åº”ä½“çš„é•¿åº¦ï¼ˆå­—èŠ‚ï¼‰ã€‚</li>
                             <li class="ml-4 my-1"><code>Content-Encoding</code>: å“åº”ä½“ä½¿ç”¨çš„ç¼–ç æ ¼å¼ï¼ˆé€šå¸¸æ˜¯å‹ç¼©ï¼‰ã€‚ä¾‹å¦‚: <code>Content-Encoding: gzip</code></li>
                             <li class="ml-4 my-1"><code>Connection</code>: æ§åˆ¶ç½‘ç»œè¿æ¥çš„é€‰é¡¹ï¼Œä¾‹å¦‚ <code>keep-alive</code>ã€‚</li>
                             <li class="ml-4 my-1"><code>Set-Cookie</code>: ç”¨äºå‘å®¢æˆ·ç«¯è®¾ç½® Cookieã€‚ä¾‹å¦‚: <code>Set-Cookie: sessionID=38afes7a8; HttpOnly; Path=/</code></li>
                             <li class="ml-4 my-1"><code>Cache-Control</code>: æŒ‡ç¤ºç¼“å­˜æœºåˆ¶å¦‚ä½•åœ¨è¯·æ±‚/å“åº”é“¾ä¸­å¤„ç†æ­¤å“åº”ã€‚ä¾‹å¦‚: <code>Cache-Control: max-age=3600, public</code></li>
                             <li class="ml-4 my-1"><code>Expires</code>: (HTTP/1.0) å“åº”è¿‡æœŸçš„æ—¥æœŸå’Œæ—¶é—´ã€‚<code>Cache-Control</code> ä¼˜å…ˆçº§æ›´é«˜ã€‚</li>
                             <li class="ml-4 my-1"><code>Last-Modified</code>: èµ„æºæœ€åä¿®æ”¹çš„æ—¥æœŸã€‚</li>
                             <li class="ml-4 my-1"><code>ETag</code>: èµ„æºçš„ç‰¹å®šç‰ˆæœ¬çš„æ ‡è¯†ç¬¦ï¼Œç”¨äºç¼“å­˜éªŒè¯ã€‚</li>
                             <li class="ml-4 my-1"><code>Location</code>: ç”¨äºé‡å®šå‘ï¼ŒæŒ‡å®šäº†å®¢æˆ·ç«¯åº”è¯¥è®¿é—®çš„æ–° URLï¼ˆé€šå¸¸ä¸ 3xx çŠ¶æ€ç ä¸€èµ·ä½¿ç”¨ï¼‰ã€‚</li>
                           </ul>`
                },
                'res-body': {
                    title: 'å“åº”ä½“ (Response Body) (å¯é€‰)',
                    text: `åŒ…å«æœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯çš„å®é™…æ•°æ®ï¼Œå¦‚ HTML é¡µé¢ã€JSON æ•°æ®ã€å›¾ç‰‡æ–‡ä»¶ç­‰ã€‚å¯¹äºæŸäº›å“åº”ï¼ˆå¦‚ <code>204 No Content</code> æˆ– <code>304 Not Modified</code>ï¼Œä»¥åŠå¯¹ <code>HEAD</code> è¯·æ±‚çš„å“åº”ï¼‰ï¼Œå“åº”ä½“ä¸ºç©ºã€‚
                           <br>å“åº”ä½“çš„å†…å®¹ç±»å‹ç”±å“åº”å¤´ä¸­çš„ <code>Content-Type</code> å­—æ®µæŒ‡å®šã€‚`
                }
            },
            statusCodes: [
                { code: 200, phrase: "OK", category: "2xx", desc: "è¯·æ±‚æˆåŠŸã€‚ä¸€åˆ‡æ­£å¸¸ï¼" },
                { code: 201, phrase: "Created", category: "2xx", desc: "è¯·æ±‚æˆåŠŸï¼ŒæœåŠ¡å™¨åˆ›å»ºäº†æ–°èµ„æºã€‚" },
                { code: 204, phrase: "No Content", category: "2xx", desc: "è¯·æ±‚æˆåŠŸï¼Œä½†æ²¡æœ‰å†…å®¹è¿”å›ã€‚" },
                { code: 301, phrase: "Moved Permanently", category: "3xx", desc: "èµ„æºè¢«æ°¸ä¹…ç§»åŠ¨åˆ°äº†æ–°ä½ç½®ã€‚" },
                { code: 304, phrase: "Not Modified", category: "3xx", desc: "èµ„æºæœªä¿®æ”¹ï¼Œå®¢æˆ·ç«¯å¯ä½¿ç”¨ç¼“å­˜ã€‚" },
                { code: 400, phrase: "Bad Request", category: "4xx", desc: "æœåŠ¡å™¨æ— æ³•ç†è§£å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚" },
                { code: 401, phrase: "Unauthorized", category: "4xx", desc: "è¯·æ±‚éœ€è¦ç”¨æˆ·è®¤è¯ã€‚" },
                { code: 403, phrase: "Forbidden", category: "4xx", desc: "æœåŠ¡å™¨æ‹’ç»æ‰§è¡Œæ­¤è¯·æ±‚ã€‚" },
                { code: 404, phrase: "Not Found", category: "4xx", desc: "æœåŠ¡å™¨ä¸Šæ‰¾ä¸åˆ°è¯·æ±‚çš„èµ„æºã€‚" },
                { code: 500, phrase: "Internal Server Error", category: "5xx", desc: "æœåŠ¡å™¨å†…éƒ¨å‘ç”Ÿäº†æœªçŸ¥é”™è¯¯ã€‚" },
                { code: 502, phrase: "Bad Gateway", category: "5xx", desc: "ä½œä¸ºç½‘å…³çš„æœåŠ¡å™¨ä»ä¸Šæ¸¸æ”¶åˆ°æ— æ•ˆå“åº”ã€‚" },
                { code: 503, phrase: "Service Unavailable", category: "5xx", desc: "æœåŠ¡å™¨æš‚æ—¶æ— æ³•å¤„ç†è¯·æ±‚ï¼ˆè¶…è½½æˆ–ç»´æŠ¤ï¼‰ã€‚" }
            ],
            evolution: [
                { version: "HTTP/0.9", year: 1991, features: "æœ€åˆç‰ˆæœ¬ï¼Œéå¸¸ç®€å•ã€‚åªæœ‰ GET æ–¹æ³•ï¼Œæ²¡æœ‰å¤´éƒ¨ã€çŠ¶æ€ç æˆ–ç‰ˆæœ¬å·ï¼Œåªè¿”å› HTMLã€‚" },
                { version: "HTTP/1.0", year: 1996, features: "å¼•å…¥ç‰ˆæœ¬å·ã€è¯·æ±‚/å“åº”å¤´ã€çŠ¶æ€ç ã€‚å¢åŠ äº† POST å’Œ HEAD æ–¹æ³•ã€‚é»˜è®¤çŸ­è¿æ¥ã€‚" },
                { version: "HTTP/1.1", year: 1999, features: "æˆä¸ºæ ‡å‡†å¤šå¹´ã€‚é»˜è®¤æŒä¹…è¿æ¥ï¼Œå¼•å…¥ç®¡é“åŒ–ã€Hostå¤´ã€åˆ†å—ä¼ è¾“ã€æ›´å¼ºçš„ç¼“å­˜æ§åˆ¶ã€‚ä½†å­˜åœ¨é˜Ÿå¤´é˜»å¡é—®é¢˜ã€‚" },
                { version: "HTTP/2", year: 2015, features: "æ€§èƒ½å·¨å¤§æå‡ã€‚å¼•å…¥äºŒè¿›åˆ¶åˆ†å¸§ã€å¤šè·¯å¤ç”¨ï¼ˆè§£å†³é˜Ÿå¤´é˜»å¡ï¼‰ã€å¤´éƒ¨å‹ç¼©(HPACK)ã€æœåŠ¡å™¨æ¨é€ã€‚" },
                { version: "HTTP/3", year: 2022, features: "é©å‘½æ€§å˜åŒ–ã€‚åº•å±‚ä» TCP æ”¹ä¸º QUIC (åŸºäºUDP)ï¼Œå½»åº•è§£å†³TCPå±‚é˜Ÿå¤´é˜»å¡ï¼Œè¿æ¥å»ºç«‹æ›´å¿«ï¼Œæ”¯æŒè¿æ¥è¿ç§»ã€‚" }
            ],
            handshakeSteps: [
                { title: "å®¢æˆ·ç«¯é—®å¥½ (Client Hello)", explanation: "å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª'é—®å¥½'æ¶ˆæ¯ï¼ŒåŒ…å«å®ƒæ”¯æŒçš„TLSç‰ˆæœ¬ã€åŠ å¯†å¥—ä»¶åˆ—è¡¨å’Œä¸€ä¸ªéšæœºæ•°ã€‚" },
                { title: "æœåŠ¡å™¨å›åº” (Server Hello)", explanation: "æœåŠ¡å™¨é€‰æ‹©ä¸€ä¸ªTLSç‰ˆæœ¬å’ŒåŠ å¯†å¥—ä»¶ï¼Œè¿”å›è‡ªå·±çš„æ•°å­—è¯ä¹¦ï¼ˆåŒ…å«å…¬é’¥ï¼‰å’Œå¦ä¸€ä¸ªéšæœºæ•°ã€‚" },
                { title: "å®¢æˆ·ç«¯éªŒè¯ä¸å¯†é’¥äº¤æ¢", explanation: "å®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨è¯ä¹¦çš„åˆæ³•æ€§ã€‚ç„¶åï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„éšæœºæ•°ï¼ˆ'é¢„ä¸»å¯†é’¥'ï¼‰ï¼Œç”¨æœåŠ¡å™¨çš„å…¬é’¥åŠ å¯†åå‘é€ç»™æœåŠ¡å™¨ã€‚" },
                { title: "æœåŠ¡å™¨è§£å¯†ä¸ä¼šè¯å¯†é’¥ç”Ÿæˆ", explanation: "æœåŠ¡å™¨ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†ï¼Œè·å–'é¢„ä¸»å¯†é’¥'ã€‚ç°åœ¨ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½æ‹¥æœ‰ä¸‰ä¸ªéšæœºæ•°ï¼Œå®ƒä»¬ä½¿ç”¨è¿™äº›éšæœºæ•°å„è‡ªç”Ÿæˆç›¸åŒçš„ä¼šè¯å¯†é’¥ã€‚" },
                { title: "å®Œæˆæ¡æ‰‹", explanation: "åŒæ–¹å„è‡ªå‘é€ä¸€ä¸ª'Finished'æ¶ˆæ¯ï¼Œç”¨åˆšç”Ÿæˆçš„ä¼šè¯å¯†é’¥åŠ å¯†ã€‚å¦‚æœå¯¹æ–¹èƒ½æˆåŠŸè§£å¯†ï¼Œåˆ™æ¡æ‰‹å®Œæˆã€‚"},
                { title: "å®‰å…¨é€šä¿¡", explanation: "æ¡æ‰‹æˆåŠŸï¼ä¹‹åæ‰€æœ‰çš„HTTPæ•°æ®éƒ½å°†ä½¿ç”¨è¿™ä¸ªå¯¹ç§°çš„ä¼šè¯å¯†é’¥è¿›è¡ŒåŠ å¯†ä¼ è¾“ï¼Œç¡®ä¿é€šä¿¡å®‰å…¨ã€‚" }
            ]
        };

        // Section 1: Core Principles
        const principlesGrid = document.getElementById('principles-grid');
        data.principles.forEach(p => {
            const card = document.createElement('div');
            card.className = 'card bg-white p-6 rounded-lg shadow-md cursor-pointer';
            card.innerHTML = `
                <div class="text-4xl mb-4">${p.icon}</div>
                <h3 class="text-xl font-semibold text-slate-900 mb-2">${p.title}</h3>
                <p class="text-slate-600 summary">${p.summary}</p>
                <p class="text-slate-700 details mt-4 hidden">${p.details}</p>
            `;
            card.addEventListener('click', () => {
                const summary = card.querySelector('.summary');
                const details = card.querySelector('.details');
                summary.classList.toggle('hidden');
                details.classList.toggle('hidden');
            });
            principlesGrid.appendChild(card);
        });

        // Section 2: Message Anatomy
        const explanationBox = document.getElementById('message-explanation');
        const messageParts = document.querySelectorAll('.message-part');
        messageParts.forEach(part => {
            part.addEventListener('click', () => {
                messageParts.forEach(p => p.classList.remove('active'));
                part.classList.add('active');
                const partData = data.messageParts[part.id];
                explanationBox.innerHTML = `<h4 class="font-bold text-lg mb-2 text-slate-900">${partData.title}</h4><div>${partData.text}</div>`;
            });
        });

        // Section 3: Status Codes
        const codeFilters = document.getElementById('status-code-filters');
        const codeGrid = document.getElementById('status-code-grid');
        const categories = ['All', '1xx', '2xx', '3xx', '4xx', '5xx'];
        const categoryColors = { '1xx': 'bg-blue-100 text-blue-800 border-blue-300', '2xx': 'bg-green-100 text-green-800 border-green-300', '3xx': 'bg-yellow-100 text-yellow-800 border-yellow-300', '4xx': 'bg-red-100 text-red-800 border-red-300', '5xx': 'bg-purple-100 text-purple-800 border-purple-300' };

        const renderStatusCodes = (filter = 'All') => {
            codeGrid.innerHTML = '';
            const filteredCodes = filter === 'All' ? data.statusCodes : data.statusCodes.filter(c => c.category === filter);
            filteredCodes.forEach(code => {
                const card = document.createElement('div');
                card.className = `status-code-card p-4 rounded-lg shadow-sm border ${categoryColors[code.category] || 'bg-slate-100 border-slate-300'}`;
                card.innerHTML = `
                    <div class="flex justify-between items-baseline">
                        <span class="font-bold text-2xl">${code.code}</span>
                        <span class="font-semibold">${code.phrase}</span>
                    </div>
                    <p class="mt-2 text-sm">${code.desc}</p>
                `;
                codeGrid.appendChild(card);
            });
        };

        categories.forEach(cat => {
            const button = document.createElement('button');
            button.textContent = cat === 'All' ? 'å…¨éƒ¨' : `${cat} ç³»åˆ—`;
            button.className = 'filter-btn px-4 py-2 text-sm font-semibold rounded-full bg-white shadow-sm hover:bg-blue-500 hover:text-white transition-colors data-[active=true]:bg-blue-500 data-[active=true]:text-white';
            if (cat === 'All') button.dataset.active = true;
            button.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(btn => btn.dataset.active = false);
                button.dataset.active = true;
                renderStatusCodes(cat);
            });
            codeFilters.appendChild(button);
        });
        renderStatusCodes();

        // Section 4: Evolution Timeline
        const evoDetails = document.getElementById('evolution-details');
        const ctx = document.getElementById('evolutionChart').getContext('2d');
        const evolutionChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: data.evolution.map(e => e.version),
                datasets: [{
                    label: 'å‘å¸ƒå¹´ä»½',
                    data: data.evolution.map(e => e.year),
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.6)',
                        'rgba(54, 162, 235, 0.6)',
                        'rgba(255, 206, 86, 0.6)',
                        'rgba(75, 192, 192, 0.6)',
                        'rgba(153, 102, 255, 0.6)',
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: {
                    x: {
                        beginAtZero: false,
                        min: 1990,
                        max: 2025,
                        ticks: {
                            stepSize: 5
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `å‘å¸ƒäº ${context.raw} å¹´`;
                            }
                        }
                    }
                },
                onClick: (event, elements) => {
                    if (elements.length > 0) {
                        const index = elements[0].index;
                        const versionData = data.evolution[index];
                        evoDetails.innerHTML = `<h4 class="font-bold text-xl mb-2 text-slate-900">${versionData.version} (${versionData.year})</h4><p class="text-slate-700">${versionData.features}</p>`;
                    }
                }
            }
        });

        // Section 5: HTTPS Handshake
        let currentStep = 0;
        const handshakeExplanation = document.getElementById('handshake-explanation');
        const stepIndicatorsContainer = document.getElementById('step-indicators');
        const prevBtn = document.getElementById('prev-step');
        const nextBtn = document.getElementById('next-step');

        const updateHandshakeUI = () => {
            const step = data.handshakeSteps[currentStep];
            handshakeExplanation.innerHTML = `<h4 class="font-bold">${currentStep + 1}. ${step.title}</h4><p>${step.explanation}</p>`;

            document.querySelectorAll('.step-indicator').forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentStep);
                 indicator.classList.toggle('bg-slate-300', index !== currentStep);
                 indicator.classList.toggle('bg-blue-500', index === currentStep);
            });

            prevBtn.disabled = currentStep === 0;
            nextBtn.disabled = currentStep === data.handshakeSteps.length - 1;
        };

        data.handshakeSteps.forEach((step, index) => {
            const indicator = document.createElement('div');
            indicator.className = 'step-indicator w-3 h-3 md:w-4 md:h-4 rounded-full bg-slate-300 transition-colors cursor-pointer';
            indicator.addEventListener('click', () => {
                currentStep = index;
                updateHandshakeUI();
            });
            stepIndicatorsContainer.appendChild(indicator);
        });

        nextBtn.addEventListener('click', () => {
            if (currentStep < data.handshakeSteps.length - 1) {
                currentStep++;
                updateHandshakeUI();
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                updateHandshakeUI();
            }
        });

        updateHandshakeUI();

    });
    </script>
</body>
</html>
